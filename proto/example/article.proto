syntax = "proto3";

package example;

import "protosearch/protosearch.proto";

message Article {
  string uid = 1 [(protosearch.field).type = "keyword"];
  string title = 2 [(protosearch.field) = {
    type: "text"
    fields: {
      key: "en"
      value: {
        type: "text"
        analyzer: "english"
      }
    }
  }];
  repeated Author authors = 3 [(protosearch.field) = {
    output: {name: "author"}
    type: "nested"
  }];
  string text = 4 [(protosearch.field) = {
    type: "text"
    fields: {
      key: "en"
      value: {
        type: "text"
        analyzer: "english"
      }
    }
  }];
}

message Author {
  string uid = 1 [(protosearch.field).type = "keyword"];
  string name = 2 [(protosearch.field).type = "text"];
}
